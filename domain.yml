version: "3.1"

intents:
  - saudacao
  - despedida
  - agradecimento
  - solicitar_agendamento
  - informar_especialidade
  - informar_exame
  - informar_data_preferida
  - informar_hora_preferida
  - afirmar
  - negar
  - solicitar_info_clinica
  - solicitar_ajuda
  - goodbye
  - bot_challenge

entities:
  - especialidade
  - tipo_exame
  - data
  - hora
  - nome_paciente
  - nome_medico

slots:
  especialidade:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: especialidade
  tipo_exame:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: tipo_exame
  data_preferida:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: data
  hora_preferida:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: hora
  nome_paciente:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: nome_paciente
  especialidades_disponiveis:
    type: list
    influence_conversation: false
    mappings:
      - type: custom
  horarios_disponiveis:
    type: list
    influence_conversation: false
    mappings:
      - type: custom
  status_disponibilidade:
    type: text
    influence_conversation: true
    mappings:
      - type: custom

responses:
  utter_saudacao:
    - text: "OlÃ¡! Como posso te ajudar hoje?"
    - text: "Oi! Em que posso ser Ãºtil?"
  utter_despedida:
    - text: "Tchau!"
    - text: "AtÃ© logo!"

  utter_perguntar_como_ajudar:
    - text: "Como posso te ajudar?"
  utter_perguntar_especialidade:
    - text: "Claro! Para qual especialidade vocÃª gostaria de agendar?"

  utter_ask_data_preferida:
    - text: "Entendido. Para qual data vocÃª gostaria de agendar a consulta de {especialidade}?"

  utter_confirmar_detalhes_agendamento:
    - text: "Ok, confirmando: agendamento para {especialidade} no dia {data_preferida} Ã s {hora_preferida}. Correto?"
  utter_agendamento_realizado:
    - text: "Seu agendamento foi realizado com sucesso!"
  utter_de_nada:
    - text: "De nada! ðŸ˜Š"
  utter_solicitar_ajuda:
    - text: "NÃ£o se preocupe, estou aqui para ajudar. O que vocÃª gostaria de fazer?"
  utter_default:
    - text: "Desculpe, nÃ£o entendi. Poderia reformular?"
  utter_goodbye:
    - text: "AtÃ© mais!"
    - text: "Tchau, se cuida!"
  utter_iamabot:
    - text: "Eu sou um assistente virtual programado para te ajudar."
    - text: "Sou um bot, criado com Rasa."

actions:
  - action_buscar_especialidades
  - action_verificar_disponibilidade
  - action_agendar_consulta
  - action_buscar_exames_por_especialidade
  - action_buscar_info_clinica

  - utter_saudacao
  - utter_perguntar_como_ajudar
  - utter_perguntar_especialidade

  - utter_ask_data_preferida
  - utter_confirmar_detalhes_agendamento
  - utter_agendamento_realizado
  - utter_de_nada
  - utter_despedida
  - utter_solicitar_ajuda

  - utter_goodbye
  - utter_iamabot

forms:
  formulario_agendamento:
    required_slots:
      - especialidade
      - data_preferida
      - hora_preferida

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true